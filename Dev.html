<!DOCTYPE html>
<html>
  <head>
		<!-- <script src="src/cake.js" type="text/javascript"></script> -->
		<script src="Framework/Helpers.js" type="text/javascript"></script>
		<script src="Framework/CanvasNode.js" type="text/javascript"></script>

		<style type="text/css">
			* {
				padding: 0;
				margin: 0;
			}

			html, body {
				width: 100%;
				height: 100%;
			}

			#drawingCanvas {
				border:  1px solid blue;
				margin: 0px auto;
				display: block;
				position: relative;
				top: 25px;
			}

			#toolbarCanvas {
				display: block;
				float: left;
				margin: 12px 0 0 12px;
			}

			#leftColumn {
				display: block;
				float: left;
			}
		</style>
		<script type="text/javascript">
			var addEvent = function(elem, type, eventHandle) {
				if (elem == null || elem == undefined)
					return;
				if (elem.addEventListener ) {
					elem.addEventListener( type, eventHandle, false );
				} else if ( elem.attachEvent ) {
					elem.attachEvent( "on" + type, eventHandle );
				}
			};

			var updateLeftColumnSize = function() {
				var leftColumn = document.getElementById('leftColumn');
				leftColumn.height = document.height;
			};

			var surfaceManager = null;

			window.onload = function() {
				updateLeftColumnSize();

				var toolbarCanvas = new Canvas(document.body, 27, 75);
				toolbarCanvas.canvasContainer.id = 'toolbarCanvas';
				toolbarCanvas.append(new Border(new Toolbar({ width: 25 }), { stroke: '#AAA' }));

        var drawingCanvas = new Canvas(document.body, 400, 400);
				drawingCanvas.canvasContainer.id = 'drawingCanvas';

				surfaceManager = new CanvasSurfaceManager(drawingCanvas);
				surfaceManager.wireupCanvasEvents(drawingCanvas);

        var elementTreeCanvasDom = document.getElementById('leftColumn');
        var elementTreeCanvas = new Canvas(elementTreeCanvasDom);
        var elementTree = new ElementTree(drawingCanvas, { fill: '#f5f5f5' });
  	    elementTreeCanvas.append(elementTree);
			};
		</script>
	</head>
	<body>
		<canvas id="leftColumn" width="200"></canvas>
	</body>
</html>
