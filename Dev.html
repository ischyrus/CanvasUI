<!DOCTYPE html>
<html>
  <head>
		<!-- <script src="src/cake.js" type="text/javascript"></script> -->
		<script src="Framework/FramerateHelper.js" type="text/javascript"></script>
		<script src="Framework/Array.js" type="text/javascript"></script>
		<script src="Framework/Helpers.js" type="text/javascript"></script>
		<script src="Framework/String.js" type="text/javascript"></script>
		<script src="Framework/Math.js" type="text/javascript"></script>
		<script src="Framework/E.js" type="text/javascript"></script>
		<script src="Framework/ObjectExtensions.js" type="text/javascript"></script>
		<script src="Framework/Browser.js" type="text/javascript"></script>
		<script src="Framework/Mouse.js" type="text/javascript"></script>
		<script src="Framework/Klass.js" type="text/javascript"></script>
		<script src="Framework/Curves.js" type="text/javascript"></script>
		<script src="Framework/Colors.js" type="text/javascript"></script>
		<script src="Framework/CanvasSupport.js" type="text/javascript"></script>
		<script src="Framework/RecordingContext.js" type="text/javascript"></script>
		<script src="Framework/Transformable.js" type="text/javascript"></script>
		<script src="Framework/Timeline.js" type="text/javascript"></script>
		<script src="Framework/Animatable.js" type="text/javascript"></script>
		<script src="Framework/CanvasNode.js" type="text/javascript"></script>
		<script src="Framework/Canvas.js" type="text/javascript"></script>
		<script src="Framework/LinkNode.js" type="text/javascript"></script>
		<script src="Framework/AudioNode.js" type="text/javascript"></script>
		<script src="Framework/ElementNode.js" type="text/javascript"></script>
		<script src="Framework/Drawable.js" type="text/javascript"></script>
		<script src="Framework/Line.js" type="text/javascript"></script>
		<script src="Framework/Circle.js" type="text/javascript"></script>
		<script src="Framework/Ellipse.js" type="text/javascript"></script>
		<script src="Framework/Spiral.js" type="text/javascript"></script>
		<script src="Framework/Rectangle.js" type="text/javascript"></script>
		<script src="Framework/Polygon.js" type="text/javascript"></script>
		<script src="Framework/CatmullRomSpline.js" type="text/javascript"></script>
		<script src="Framework/Path.js" type="text/javascript"></script>
		<script src="Framework/ImageNode.js" type="text/javascript"></script>
		<script src="Framework/TextNode.js" type="text/javascript"></script>
		<script src="Framework/Gradient.js" type="text/javascript"></script>
		<script src="Framework/Pattern.js" type="text/javascript"></script>
		<script src="Framework/SVGParser.js" type="text/javascript"></script>

		<script src="CanvasUI/UI5.js" type="text/javascript"></script>
		<script src="CanvasUI/Border.js" type="text/javascript"></script>
		<script src="CanvasUI/SelectionOutline.js" type="text/javascript"></script>
		<script src="CanvasUI/Separator.js" type="text/javascript"></script>
		<script src="CanvasUI/StackPanel.js" type="text/javascript"></script>
		<script src="CanvasUI/Button.js" type="text/javascript"></script>
		<script src="CanvasUI/Toolbar.js" type="text/javascript"></script>
		<script src="CanvasUI/CanvasSurfaceManager.js" type="text/javascript"></script>

		<script src="src/ElementTree.js" type="text/javascript"></script>

		<style type="text/css">
			* {
				padding: 0;
				margin: 0;
			}

			html, body {
				width: 100%;
				height: 100%;
			}

			#drawingCanvas {
				border:  1px solid blue;
				margin: 0px auto;
				display: block;
				position: relative;
				top: 25px;
			}

			#toolbarCanvas {
				display: block;
				float: left;
				margin: 12px 0 0 12px;
			}

			#leftColumn {
				display: block;
				float: left;
			}
		</style>
		<script type="text/javascript">
			var addEvent = function(elem, type, eventHandle) {
				if (elem == null || elem == undefined)
					return;
				if (elem.addEventListener ) {
					elem.addEventListener( type, eventHandle, false );
				} else if ( elem.attachEvent ) {
					elem.attachEvent( "on" + type, eventHandle );
				}
			};

			var updateLeftColumnSize = function() {
				var leftColumn = document.getElementById('leftColumn');
				leftColumn.height = document.height;
			};

			var surfaceManager = null;

			window.onload = function() {
				updateLeftColumnSize();

				var toolbarCanvas = new Canvas(document.body, 27, 75);
				toolbarCanvas.canvasContainer.id = 'toolbarCanvas';
				toolbarCanvas.append(new Border(new Toolbar({ width: 25 }), { stroke: '#AAA' }));

        var drawingCanvas = new Canvas(document.body, 400, 400);
				drawingCanvas.canvasContainer.id = 'drawingCanvas';

				surfaceManager = new CanvasSurfaceManager(drawingCanvas);
				surfaceManager.wireupCanvasEvents(drawingCanvas);

        var elementTreeCanvasDom = document.getElementById('leftColumn');
        var elementTreeCanvas = new Canvas(elementTreeCanvasDom);
        var elementTree = new ElementTree(drawingCanvas, { fill: '#f5f5f5' });
  	    elementTreeCanvas.append(elementTree);
			};
		</script>
	</head>
	<body>
		<canvas id="leftColumn" width="200"></canvas>
	</body>
</html>
